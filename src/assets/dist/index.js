parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KZrH":[function(require,module,exports) {

},{}],"niZy":[function(require,module,exports) {
var define;
var e;parcelRequire=function(t,n,r,o){var a,i="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function c(e,r){if(!n[e]){if(!t[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!r&&o)return o(e,!0);if(i)return i(e,!0);if(u&&"string"==typeof e)return u(e);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}l.resolve=function(n){return t[e][1][n]||n},l.cache={};var s=n[e]=new c.Module(e);t[e][0].call(s.exports,l,s,s.exports,this)}return n[e].exports;function l(e){return c(l.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=n,c.parent=i,c.register=function(e,n){t[e]=[function(e,t){t.exports=n},{}]};for(var s=0;s<r.length;s++)try{c(r[s])}catch(t){a||(a=t)}if(r.length){var l=c(r[r.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof e&&e.amd&&e(function(){return l})}if(parcelRequire=c,a)throw a;return c}({Wt0f:[function(e,t,n){"use strict";async function r({endpoint:e,fetchOptions:t,query:n,variables:r}){const o={query:n,variables:JSON.stringify(r)},{method:a="POST",headers:i={}}=t,u="get"===a.toLowerCase(),c=u?function(e,t){const n=new URL(e);for(const r in t)n.searchParams.append(r,t[r]);return n.toString()}(e,o):e;try{const t=await fetch(c,{method:a.toUpperCase(),headers:{"Content-Type":"application/"+(u?"x-www-form-urlencoded":"json"),...i},body:u?null:JSON.stringify(o)}),{data:n,errors:r}=await t.json(),s={data:n};return r&&(s.errors=r),s}catch(e){return{errors:[e]}}}Object.defineProperty(n,"__esModule",{value:!0}),n.QuestClient=function({endpoint:e,method:t,headers:n}){return{send:async(o,a={})=>await r({endpoint:e,query:o,variables:a,fetchOptions:{method:t,headers:n}})}},n.quest=async function(e,t,n={},o={}){return await r({endpoint:e,query:t,variables:n,fetchOptions:o})}},{}],FOZT:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrentTime=n.formatFormValues=n.toPrettyDate=n.toIsoString=n.dateFromUnix=void 0;var a=function(e){return new Date(Number(e))};n.dateFromUnix=a;n.toIsoString=function(e){return a(e).toISOString()};n.toPrettyDate=function(e){var t=a(e),n=t.getTimezoneOffset()/60;return t.setHours(t.getHours()-n),t.toLocaleString("en-US").split(",")[0].trim()};n.formatFormValues=function(e){return r(e).reduce(function(e,t){return t.name?(e[t.name]=t.value,e):e},{})};n.getCurrentTime=function(){return(new Date).getTime()}},{}],jGxc:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CREATE_COMMENT_QUERY=void 0;n.CREATE_COMMENT_QUERY="\n  mutation CreateComment(\n    $name: String!,\n    $path: String!,\n    $content: String!,\n    $domain: String!,\n    $emailAddress: String\n  ){\n    createComment(\n      name: $name,\n      path: $path,\n      content: $content,\n      emailAddress: $emailAddress\n      domain: $domain\n    ) {\n      createdAt\n      name\n      emailAddress\n      content\n      id\n      site {\n        domain\n      }\n    }\n  }\n"},{}],Zdmw:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.querySelector(".jc-CommentBox-loadingDots"),n=e.querySelector('[data-jam-comments-component="count"]'),u=e.querySelector('[data-jam-comments-component="list"]'),c=e.querySelector('[data-jam-comments-component="message"]'),s=new r.QuestClient({endpoint:"https://service.jamcomments.com/graphql",headers:{"x-api-key":"JAM_COMMENTS_API_KEY"}}),l=function(){var e=parseInt(n.textContent);n.textContent=e+1},m=function(){t.style.display="none"},f=function(){c.style.display="",c.firstElementChild.innerText="Oh no! Something went wrong while trying to submit that comment."},d=function(e){e.createdAt=(0,o.toPrettyDate)(e.createdAt);var t=e.id,n=u.querySelector("li").cloneNode(!0);["content","createdAt","name"].forEach(function(t){n.querySelector('[data-jam-comments-component="'.concat(t,'"]')).innerText=e[t]}),n.querySelectorAll('[data-jam-comments-component="anchor"]').href="#comment-".concat(t),n.style.display="",u.insertBefore(n,u.firstChild)};e.querySelector("form").addEventListener("submit",function(n){n.preventDefault();var r=n.target,i=(0,o.getCurrentTime)(),u=(0,o.formatFormValues)(r.elements),c=u.content,p={name:u.name,domain:"JAM_COMMENTS_DOMAIN",content:c,emailAddress:u.emailAddress,path:e.dataset.jamCommentsUrl||window.location.pathname};t.style.display="",s.send(a.CREATE_COMMENT_QUERY,p).then(function(e){var t=1e3-((0,o.getCurrentTime)()-i),n=t>0?t:0;if(e.errors||!e.data)return m(),f();setTimeout(function(){m(),d(e.data.createComment),l(),r.reset()},n)})}),e.querySelector('[name="content"]').addEventListener("focus",function(t){i(e.querySelectorAll(".jc-CommentBox-contactInput")).forEach(function(e){e.style.display="flex"})})};var r=e("graphql-quest"),o=e("./utils"),a=e("./queries");function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},{"graphql-quest":"Wt0f","./utils":"FOZT","./queries":"jGxc"}],Focm:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CommentController",{enumerable:!0,get:function(){return r.default}});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./CommentController"))},{"./CommentController":"Zdmw"}]},{},["Focm"]);
},{}],"Focm":[function(require,module,exports) {
"use strict";require("../scss/style.scss");var r=require("jam-comments-utilities");function t(r){return i(r)||o(r)||n(r)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(r,t){if(r){if("string"==typeof r)return a(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(r,t):void 0}}function o(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function i(r){if(Array.isArray(r))return a(r)}function a(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}t(document.querySelectorAll('[data-jam-comments-component="shell"]')).forEach(function(t){return(0,r.CommentController)(t)});
},{"../scss/style.scss":"KZrH","jam-comments-utilities":"niZy"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map